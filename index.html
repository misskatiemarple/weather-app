<!DOCTYPE html>
<html lang="en">
 <head>
   <meta charset="UTF-8" />
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <link
     rel="stylesheet"
     href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
     integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
     crossorigin="anonymous"
   />
   <title>Weather App Plus</title>


   <script
     src="https://kit.fontawesome.com/49bef2d35b.js"
     crossorigin="anonymous"
   ></script>
   <link rel="preconnect" href="https://fonts.googleapis.com" />
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
   <link
     href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;400;500;600;700&display=swap"
     rel="stylesheet"
   />
   <link rel="preconnect" href="https://fonts.googleapis.com" />
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
   <link
     href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
     rel="stylesheet"
   />
   <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
   <style>
     body {
       width: 100%;
     }
     h1,
     h2,
     h3 {
       font-family: Roboto;
       font-weight: 700px;
       margin: 10px;
       top: 20;
       left: 10;
       padding: 0;
     }
     h1 {
       font-size: 50px;
     }
     h3 {
       font-size: 18px;
     }
     p {
       margin: 10px;
     }
     .container {
       border: solid;
       border-color: cornflowerblue;
       border-radius: 10px;
     }
     .searchbutton {
       border-radius: 10px;
       color: #fff;
       background: #2a7ea3;
       margin-bottom: 10px;
     }
     .todays-icon {
       font-size: 80px;
       color: orange;
     }
     .todays-temperature h2 {
       text-decoration: underline;
       color: black;
     }
     .currentTemperature {
       color: black;
       font-size: 60px;
       margin: 0;
     }
     .unit-links {
       color: skyblue;
       font-size: 14px;
       position: relative;
       top: -32px;
     }
     .weekdays {
       font-family: Oswald;
       font-size: 30px;
       text-align: center;
     }
     .week-icons {
       text-align: center;
       font-size: 50px;
       color: #2a7ea3;
     }
     .week-icons p {
       font-size: 15px;
       color: black;
     }
   </style>
 </head>

 <body>
   <div class="container">
     <br />
     <div class="search">
       <form id="search-form">
         <input type="text"
         placeholder="Change City"
         id="searchtextinput" />
         <input
           type="submit"
           value="Search"
           class="searchbutton"
           id="searchbutton"
         />   </div>
         <span class="geoSearchButton" id="geoSearchButton">
           <button type="button">Current Location</button>
         </span>
       </form>

     <div class="container text-center">
       <div class="row">
         <div class="col">
           <h1 id="city">Fairyland</h1>
           <span class="date-time" id="date-time">
             <h2>Monday</h2>
             <p>16th January, 13:00</p>
           </span>
           <div class="todays-temperature">
             <span class="todays-icon">
               <i class="fa-regular fa-sun"></i
             ></span>
             <span class="currentTemperature" id="current-temperature">12</span>
             <span class="unit-links"
               ><a href="#" id="celsius-link">°C</a> |
               <a href="#" id="fahrenheit-link">°F</a></span
             >
           </div>
         </div>

         <div class="col">
           <div class="outfit">
             <div class="card text-center">
               <div class="card-header"><h5>Outfit Suggestion</h5></div>
               <div class="card-body">
                 <p class="card-text">
                   Wear a muffler with a mid-length jacket and knee-high boots
                 </p>
                 <a
                   href="https://jp.shein.com/flash-sale.html?url_from=jpgooglebrandshein_shein02_srsa_LJP_flash_20230111&cid=17428088364&setid=138196920620&adid=644531711682&pf=GOOGLE&gclid=Cj0KCQiA_P6dBhD1ARIsAAGI7HAO6877SHEi1w95CGHaORIJvZykxA4c8wpYuXZA80JGL2KuZvrq8-YaAh4_EALw_wcB"
                   target="_blank"
                   class="btn btn-primary"
                   >Buy online</a
                 >
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>

     <div class="weekdays">
       <div class="row">
         <div class="col-2">Tue</div>
         <div class="col-2">Wed</div>
         <div class="col-2">Thurs</div>
         <div class="col-2">Fri</div>
         <div class="col-2">Sat</div>
         <div class="col-2">Sun</div>
       </div>
     </div>
     <div class="week-icons">
       <div class="row">
         <div class="col-2">
           <i class="fa-solid fa-cloud-showers-heavy"></i>
           <p>9°C</p>
         </div>
         <div class="col-2">
           <i class="fa-solid fa-cloud-sun-rain"></i>
           <p>6°C</p>
         </div>
         <div class="col-2">
           <i class="fa-solid fa-cloud-sun"></i>
           <p>3°C</p>
         </div>
         <div class="col-2">
           <i class="fa-regular fa-sun"></i>
           <p>13°C</p>
         </div>
         <div class="col-2">
           <i class="fa-regular fa-sun"></i>
           <p>12°C</p>
         </div>
         <div class="col-2">
           <i class="fa-solid fa-cloud"></i>
           <p>10°C</p>
         </div>
       </div>
     </div>
     <footer><a href = "https://github.com/misskatiemarple/weather-app">Open-source code</a> by Katie Marple
   </div>

   <script>
     function formatDate(now) {
       let date = now.getDate();
       let hours = now.getHours();
       if (hours < 10) {
         hours = `0${hours}`;
       }
       let minutes = now.getMinutes();
       if (minutes < 10) {
         minutes = `0${minutes}`;
       }

       let dayIndex = now.getDay();
       let days = [
         "Sunday",
         "Monday",
         "Tuesday",
         "Wednesday",
         "Thursday",
         "Friday",
         "Saturday",
       ];
       let day = days[dayIndex];
       return `${day} ${date}, ${hours}:${minutes}`;
     }
     let dateElement = document.querySelector("#date-time");
     let currentTime = new Date();
     dateElement.innerHTML = formatDate(currentTime);

     function searchCity(event) {
       event.preventDefault();
       let apiKey = "8ffdae83372dae3b32b16f61153232ca";
       let cityElement = document.querySelector("#city");
       let cityInput = document.querySelector("#searchtextinput")
    cityElement.innerHTML = cityInput.value;
       let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${cityInput}&units=metric&appid=${apiKey}`;
       axios.get(apiUrl).then(showChange);
     }

     let searchButton = document.querySelector("#search-form");
     searchButton.addEventListener("submit", searchCity);

     function showChange(response) {
       console.log(response.data);
       let tempElementChange = document.querySelector("#current-temperature");
       let locationTemperature = Math.round(response.data.main.temp);
       tempElementChange.innerHTML = `${locationTemperature}`;

       let cityElementChange = document.querySelector("#city");
       cityElementChange.innerHTML = response.data.name;
     }

     function getGeoPosition(event) {
       event.preventDefault();
       navigator.geolocation.getCurrentPosition(showGeoPosition);
     }
     function showGeoPosition(position) {
       let apiKey = "8ffdae83372dae3b32b16f61153232ca";
       let latitude = position.coords.latitude;
       let longitude = position.coords.longitude;
       let url = `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=metric&appid=${apiKey}`;
       axios.get(url).then(showChange);
     }
     let geoButton = document.querySelector("#geoSearchButton");
     geoButton.addEventListener("click", getGeoPosition);

function convertToFahrenheit(event) {
 event.preventDefault();
 let fahrenheitElement = document.querySelector("#temperature");
 fahrenheitElement.innerHTML = 66;
}


function convertToCelsius(event) {
 event.preventDefault();
 let celsiusElement = document.querySelector("#temperature");
 celsiusElement.innerHTML = 19;
}

let fahrenheitLink = document.querySelector("#fahrenheit-link");
fahrenheitLink.addEventListener("click", convertToFahrenheit);

let celsiusLink = document.querySelector("#celsius-link");
celsiusLink.addEventListener("click", convertToCelsius);
   </script>
 </body>
</html>